<!-- Application Shell - Tailwind + Spartan UI Only -->

<!-- Navigation Header -->
<header
  class="sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"
>
  <nav class="container mx-auto px-4">
    <div class="flex h-16 items-center justify-between">
      <!-- Logo -->
      <a
        routerLink="/"
        class="flex items-center gap-2 font-semibold text-foreground hover:opacity-80 transition-opacity"
      >
        <span class="text-2xl">ðŸŽ¯</span>
        <span class="text-xl font-bold tracking-tight">JobTracker</span>
      </a>

      <!-- Navigation Links - Only show when authenticated -->
      <div class="flex items-center gap-1">
        @if (isAuthenticated()) {
          <a
            routerLink="/"
            routerLinkActive="bg-secondary text-foreground"
            [routerLinkActiveOptions]="{ exact: true }"
            hlmBtn
            variant="ghost"
            size="sm"
            class="gap-2"
          >
            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
              />
            </svg>
            <span class="hidden sm:inline">Applications</span>
          </a>

          <a
            routerLink="/companies"
            routerLinkActive="bg-secondary text-foreground"
            hlmBtn
            variant="ghost"
            size="sm"
            class="gap-2"
          >
            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"
              />
            </svg>
            <span class="hidden sm:inline">Companies</span>
          </a>

          <a
            routerLink="/documents"
            routerLinkActive="bg-secondary text-foreground"
            hlmBtn
            variant="ghost"
            size="sm"
            class="gap-2"
          >
            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
              />
            </svg>
            <span class="hidden sm:inline">Documents</span>
          </a>

          <!-- Separator -->
          <div hlmSeparator orientation="vertical" class="mx-2 h-6"></div>
        }

        <!-- Theme Toggle -->
        <app-theme-toggle></app-theme-toggle>

        <!-- User Menu (Authenticated) -->
        @if (isAuthenticated()) {
          <button
            hlmBtn
            variant="ghost"
            size="sm"
            class="gap-2 ml-2"
            [hlmDropdownMenuTrigger]="userMenu"
          >
            @if (currentUser()?.profilePictureUrl) {
              <img
                [src]="currentUser()?.profilePictureUrl"
                [alt]="userFullName()"
                class="h-7 w-7 rounded-full object-cover"
              />
            } @else {
              <div
                class="flex h-7 w-7 items-center justify-center rounded-full bg-primary text-xs font-medium text-primary-foreground"
              >
                {{ userInitials() }}
              </div>
            }
            <span class="hidden md:inline text-sm font-medium">{{ userFullName() }}</span>
            <svg class="h-4 w-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 9l-7 7-7-7"
              />
            </svg>
          </button>
          <ng-template #userMenu>
            <div hlmDropdownMenu class="w-56">
              <div hlmDropdownMenuLabel>
                <span class="text-xs text-muted-foreground">{{ currentUser()?.email }}</span>
              </div>
              <div hlmDropdownMenuSeparator></div>
              <div hlmDropdownMenuGroup>
                <a
                  routerLink="/profile"
                  hlmDropdownMenuItem
                  class="flex items-center gap-2 w-full cursor-pointer"
                >
                  <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                    />
                  </svg>
                  My Profile
                </a>
              </div>
              <div hlmDropdownMenuSeparator></div>
              <button hlmDropdownMenuItem (click)="logout()" class="flex items-center gap-2 w-full">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
                  />
                </svg>
                Sign Out
              </button>
            </div>
          </ng-template>
        } @else {
          <!-- Login Button (Not Authenticated) -->
          <a routerLink="/login" hlmBtn variant="default" size="sm" class="gap-2">
            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"
              />
            </svg>
            Sign In
          </a>
        }
      </div>
    </div>
  </nav>
</header>

<!-- Main Content -->
<main class="min-h-[calc(100vh-8rem)]">
  <router-outlet></router-outlet>
</main>

<!-- Toast Notifications -->
<app-toast-notification></app-toast-notification>

<!-- Confirm Dialog -->
<app-confirm-dialog></app-confirm-dialog>

<!-- Footer -->
<footer class="border-t border-border bg-background py-6">
  <div class="container mx-auto px-4 text-center text-sm text-muted-foreground">
    JobTracker Â© 2026 - Track Your Job Search Journey
  </div>
</footer>
