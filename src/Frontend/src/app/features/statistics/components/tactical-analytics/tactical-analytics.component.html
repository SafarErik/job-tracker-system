<div class="min-h-screen bg-background text-foreground p-6 md:p-10 space-y-10 selection:bg-violet-500/30">
    <!-- Header Section -->
    <header
        class="flex flex-col md:flex-row justify-between items-start md:items-end gap-4 animate-in fade-in slide-in-from-top-4 duration-1000">
        <div class="space-y-1">
            <div class="flex items-center gap-2 text-violet-500 mb-2">
                <ng-icon name="lucideBarChart3" class="w-5 h-5"></ng-icon>
                <span class="text-[10px] font-black uppercase tracking-[0.3em]">Operational Oversight</span>
            </div>
            <h1 class="text-4xl md:text-5xl font-serif font-bold tracking-tight">
                Intelligence Analytics <span class="text-muted-foreground/40 font-light">//</span> Performance Data
            </h1>
        </div>
        <div class="flex items-center gap-3">
            <div class="px-4 py-2 rounded-xl bg-card border border-border backdrop-blur-sm shadow-sm">
                <span class="text-xs text-muted-foreground uppercase tracking-widest font-bold">System Status:</span>
                <span class="ml-2 text-xs text-emerald-500 font-mono">ACTIVE_TRACKING</span>
            </div>
        </div>
    </header>

    <!-- Bento Grid Layout -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-min">

        <!-- 1. The Strategy Funnel (2/3 width) -->
        <div hlmCard
            class="md:col-span-2 bg-card border-border hover:border-violet-500/30 transition-all duration-500 group overflow-hidden relative shadow-sm">
            <div
                class="absolute top-0 right-0 p-8 pointer-events-none opacity-[0.03] group-hover:opacity-[0.08] transition-opacity">
                <ng-icon name="lucideTarget" class="w-32 h-32"></ng-icon>
            </div>

            <div hlmCardHeader>
                <div hlmCardTitle class="text-xl font-serif font-bold flex items-center gap-3">
                    <div class="h-8 w-8 rounded-lg bg-violet-500/10 flex items-center justify-center text-violet-500">
                        <ng-icon name="lucideTrendingUp" class="h-4 w-4"></ng-icon>
                    </div>
                    The Strategy Funnel
                </div>
                <p hlmCardDescription class="text-muted-foreground">Pipeline conversion velocity across all target
                    acquisitions.
                </p>
            </div>

            <div hlmCardContent class="pt-6 space-y-8">
                <!-- SVG Funnel Visualization -->
                <div class="relative py-4">
                    <div class="space-y-6">
                        <!-- Applied -->
                        <div class="relative">
                            <div
                                class="flex justify-between mb-2 text-xs font-black uppercase tracking-widest text-muted-foreground/60">
                                <span>Applied</span>
                                <span>{{ funnelData().applied }}</span>
                            </div>
                            <div class="h-8 w-full bg-muted/30 rounded-lg overflow-hidden border border-border">
                                <div class="h-full bg-linear-to-r from-violet-600 to-violet-400 transition-all duration-1000 ease-out"
                                    [style.width.%]="funnelWidths().applied"></div>
                            </div>
                        </div>

                        <!-- Screened -->
                        <div class="relative">
                            <div
                                class="flex justify-between mb-2 text-xs font-black uppercase tracking-widest text-muted-foreground/60">
                                <span>Screened</span>
                                <span>{{ funnelData().screened }}</span>
                            </div>
                            <div class="h-8 w-full bg-muted/30 rounded-lg overflow-hidden border border-border">
                                <div class="h-full bg-linear-to-r from-violet-500 to-violet-300 transition-all duration-1000 delay-100 ease-out"
                                    [style.width.%]="funnelWidths().screened"></div>
                            </div>
                        </div>

                        <!-- Interviewed -->
                        <div class="relative">
                            <div
                                class="flex justify-between mb-2 text-xs font-black uppercase tracking-widest text-muted-foreground/60">
                                <span>Interviewed</span>
                                <span>{{ funnelData().interviewed }}</span>
                            </div>
                            <div class="h-8 w-full bg-muted/30 rounded-lg overflow-hidden border border-border">
                                <div class="h-full bg-linear-to-r from-violet-400 to-violet-200 transition-all duration-1000 delay-200 ease-out"
                                    [style.width.%]="funnelWidths().interviewed"></div>
                            </div>
                        </div>

                        <!-- Offer -->
                        <div class="relative">
                            <div
                                class="flex justify-between mb-2 text-xs font-black uppercase tracking-widest text-muted-foreground/60">
                                <span>Offer Secured</span>
                                <span>{{ funnelData().offer }}</span>
                            </div>
                            <div class="h-8 w-full bg-muted/30 rounded-lg overflow-hidden border border-border">
                                <div class="h-full bg-linear-to-r from-emerald-500 to-emerald-300 transition-all duration-1000 delay-300 ease-out shadow-[0_0_15px_rgba(16,185,129,0.3)]"
                                    [style.width.%]="funnelWidths().offer"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI Insight Box -->
                <div class="p-4 rounded-xl bg-violet-600/5 border border-violet-500/20 flex gap-4 items-center">
                    <div
                        class="shrink-0 h-10 w-10 rounded-full bg-violet-500/10 flex items-center justify-center text-violet-400">
                        <ng-icon name="lucideSparkles" class="h-5 w-5"></ng-icon>
                    </div>
                    <div>
                        <h4 class="text-xs font-bold uppercase tracking-widest text-violet-500">Tactical Insight</h4>
                        <p class="text-sm text-muted-foreground mt-1">
                            Your funnel drops by <span class="text-violet-500 font-bold">60%</span> at the technical
                            stage. Consider tactical training in system design and architecture.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 2. Market Value Velocity (1/3 width) -->
        <div hlmCard
            class="bg-card border-border hover:border-emerald-500/30 transition-all duration-500 group relative shadow-sm">
            <div hlmCardHeader>
                <div hlmCardTitle class="text-xl font-serif font-bold flex items-center gap-3">
                    <div class="h-8 w-8 rounded-lg bg-emerald-500/10 flex items-center justify-center text-emerald-500">
                        <ng-icon name="lucideActivity" class="h-4 w-4"></ng-icon>
                    </div>
                    Market Value Velocity
                </div>
                <p hlmCardDescription class="text-muted-foreground">Salary offer trends vs current position.</p>
            </div>

            <div hlmCardContent class="pt-4 h-64">
                <!-- SVG Line Chart Mock -->
                <svg class="w-full h-full overflow-visible" viewBox="0 0 400 200">
                    <defs>
                        <linearGradient id="glowGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color: #10b981; stop-opacity: 0.2" />
                            <stop offset="100%" style="stop-color: #10b981; stop-opacity: 0.8" />
                        </linearGradient>
                        <filter id="neonGlow" x="-20%" y="-20%" width="140%" height="140%">
                            <feGaussianBlur stdDeviation="4" result="blur" />
                            <feComposite in="SourceGraphic" in2="blur" operator="over" />
                        </filter>
                    </defs>

                    <!-- Grid Lines -->
                    <line x1="0" y1="180" x2="400" y2="180" class="stroke-border" stroke-width="1" />
                    <line x1="0" y1="130" x2="400" y2="130" class="stroke-border" stroke-width="1" />
                    <line x1="0" y1="80" x2="400" y2="80" class="stroke-border" stroke-width="1" />
                    <line x1="0" y1="30" x2="400" y2="30" class="stroke-border" stroke-width="1" />

                    <!-- Y-Axis Labels -->
                    <text x="380" y="175" class="text-[10px] fill-muted-foreground/60 font-mono">90k</text>
                    <text x="380" y="125" class="text-[10px] fill-muted-foreground/60 font-mono">105k</text>
                    <text x="380" y="75" class="text-[10px] fill-muted-foreground/60 font-mono">120k</text>

                    <!-- The Line -->
                    <path d="M 0 160 L 80 150 L 160 130 L 240 100 L 320 80 L 400 40" fill="none" stroke="#10b981"
                        stroke-width="3" stroke-linecap="round" filter="url(#neonGlow)" class="animate-dash"
                        style="stroke-dasharray: 600; stroke-dashoffset: 0;" />

                    <!-- X-Axis Labels -->
                    <g class="text-[8px] font-mono fill-muted-foreground/60">
                        <text x="0" y="195">JAN</text>
                        <text x="80" y="195">FEB</text>
                        <text x="160" y="195">MAR</text>
                        <text x="240" y="195">APR</text>
                        <text x="320" y="195">MAY</text>
                        <text x="375" y="195">JUN</text>
                    </g>
                </svg>
            </div>

            <div hlmCardFooter class="pt-4 border-t border-border mt-2">
                <div class="flex items-center justify-between w-full">
                    <span class="text-xs text-muted-foreground font-mono">+12.4% Increase</span>
                    <ng-icon name="lucideArrowUpRight" class="text-emerald-500"></ng-icon>
                </div>
            </div>
        </div>

        <!-- 3. Skill Radar (1/3 width) -->
        <div hlmCard
            class="bg-card border-border hover:border-violet-500/30 transition-all duration-500 group relative shadow-sm">
            <div hlmCardHeader>
                <div hlmCardTitle class="text-xl font-serif font-bold flex items-center gap-3">
                    <div class="h-8 w-8 rounded-lg bg-violet-500/10 flex items-center justify-center text-violet-500">
                        <ng-icon name="lucideCpu" class="h-4 w-4"></ng-icon>
                    </div>
                    Skill Radar
                </div>
                <p hlmCardDescription class="text-muted-foreground">Competency match vs industry standards.</p>
            </div>

            <div hlmCardContent class="pt-2 h-64 flex items-center justify-center">
                <!-- SVG Radar Chart Mock -->
                <svg class="w-full h-full" viewBox="0 0 200 200">
                    <!-- Radar Background Polygons -->
                    <polygon points="100,20 180,60 180,140 100,180 20,140 20,60" fill="none" class="stroke-border"
                        stroke-width="1" />
                    <polygon points="100,60 140,80 140,120 100,140 60,120 60,80" fill="none" class="stroke-border"
                        stroke-width="1" />
                    <line x1="100" y1="20" x2="100" y2="180" class="stroke-border" stroke-width="1" />
                    <line x1="180" y1="60" x2="20" y2="140" class="stroke-border" stroke-width="1" />
                    <line x1="180" y1="140" x2="20" y2="60" class="stroke-border" stroke-width="1" />

                    <!-- Target Profile (Outer Shadow) -->
                    <polygon points="100,40 160,70 170,130 100,160 50,135 60,65"
                        class="fill-muted-foreground/10 stroke-muted-foreground/40" stroke-width="1"
                        stroke-dasharray="2,2" />

                    <!-- User Profile (Arsenal) -->
                    <polygon points="100,50 140,85 150,120 100,150 70,130 80,75" fill="rgba(139, 92, 246, 0.2)"
                        stroke="#8b5cf6" stroke-width="2" class="animate-pulse shadow-lg" />

                    <!-- Labels -->
                    <g class="text-[8px] font-mono fill-muted-foreground/60">
                        <text x="100" y="15" text-anchor="middle">TS</text>
                        <text x="185" y="60">ANG</text>
                        <text x="185" y="145">NODE</text>
                        <text x="100" y="195" text-anchor="middle">CLOUD</text>
                        <text x="5" y="145">ARCH</text>
                        <text x="5" y="60">SOFT</text>
                    </g>
                </svg>
            </div>

            <div hlmCardFooter>
                <div class="flex gap-4 w-full justify-center">
                    <div class="flex items-center gap-2">
                        <div class="w-2 h-2 rounded-full bg-violet-500"></div>
                        <span class="text-[10px] font-black uppercase tracking-widest text-muted-foreground">My
                            Arsenal</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="w-2 h-2 rounded-full border border-muted-foreground border-dashed"></div>
                        <span class="text-[10px] font-black uppercase tracking-widest text-muted-foreground">Target
                            Profile</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4. Engagement Heatmap (2/3 width) -->
        <div hlmCard
            class="md:col-span-2 bg-card border-border hover:border-violet-500/30 transition-all duration-500 relative overflow-hidden shadow-sm">
            <div hlmCardHeader>
                <div hlmCardTitle class="text-xl font-serif font-bold flex items-center gap-3">
                    <div class="h-8 w-8 rounded-lg bg-violet-500/10 flex items-center justify-center text-violet-500">
                        <ng-icon name="lucideZap" class="h-4 w-4"></ng-icon>
                    </div>
                    Engagement Heatmap
                </div>
                <p hlmCardDescription class="text-muted-foreground">365-day tactical deployment and networking activity.
                </p>
            </div>

            <div hlmCardContent class="pt-6">
                <!-- Activity Grid (GitHub style) -->
                <div class="flex flex-wrap gap-[3px]">
                    @for (item of heatmapData(); track item.date) {
                    <div class="w-3 h-3 rounded-[2px] transition-colors duration-500 hover:scale-125 hover:z-10"
                        [class.bg-muted/40]="item.intensity === 0" [class.bg-violet-900/40]="item.intensity === 1"
                        [class.bg-violet-700/60]="item.intensity === 2" [class.bg-violet-500/80]="item.intensity === 3"
                        [class.bg-violet-400]="item.intensity === 4" [title]="item.date">
                    </div>
                    }
                </div>

                <div class="flex items-center justify-end gap-2 mt-4 text-[10px] font-mono text-muted-foreground">
                    <span>Less</span>
                    <div class="w-2 h-2 rounded-[1px] bg-muted/40"></div>
                    <div class="w-2 h-2 rounded-[1px] bg-violet-900/40"></div>
                    <div class="w-2 h-2 rounded-[1px] bg-violet-700/60"></div>
                    <div class="w-2 h-2 rounded-[1px] bg-violet-500/80"></div>
                    <div class="w-2 h-2 rounded-[1px] bg-violet-400 shadow-[0_0_5px_#a78bfa]"></div>
                    <span>More</span>
                </div>
            </div>
        </div>

        <!-- 5. AI Career Audit (AI Special Card - 1/3 width) -->
        <div hlmCard
            class="bg-card border-violet-500/30 hover:border-violet-500/60 transition-all duration-700 group relative overflow-hidden flex flex-col justify-between shadow-xl shadow-violet-500/5">
            <!-- Premium Background elements -->
            <div class="absolute inset-0 bg-linear-to-br from-violet-600/8 to-fuchsia-600/8 pointer-events-none"></div>
            <div
                class="absolute -top-12 -right-12 w-48 h-48 bg-violet-500/20 blur-3xl rounded-full group-hover:bg-violet-500/30 transition-all duration-1000">
            </div>
            <div
                class="absolute -bottom-12 -left-12 w-32 h-32 bg-fuchsia-500/10 blur-2xl rounded-full group-hover:bg-fuchsia-500/20 transition-all duration-1000">
            </div>

            <div hlmCardHeader class="relative z-10">
                <div
                    class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-linear-to-r from-violet-500/20 to-fuchsia-500/20 border border-violet-500/30 text-[10px] font-black uppercase tracking-[0.2em] text-violet-600 dark:text-violet-300 mb-6 w-fit shadow-sm">
                    <ng-icon name="lucideShieldCheck" class="h-3 w-3"></ng-icon>
                    Strategic Asset
                </div>
                <div hlmCardTitle class="text-3xl font-serif font-bold text-foreground leading-tight">
                    Initiate Deep <br> <span
                        class="bg-linear-to-r from-violet-600 to-fuchsia-600 bg-clip-text text-transparent italic">Career
                        Audit</span>
                </div>
                <p class="text-sm font-medium text-muted-foreground mt-4 leading-relaxed max-w-[240px]">
                    Our intelligence engine will analyze your trajectory to identify the path to your next <span
                        class="text-violet-600 dark:text-violet-400 font-bold">$20k raise</span>.
                </p>
            </div>

            <div hlmCardContent class="relative z-10 pt-8 mt-auto">
                <button hlmBtn (click)="startDeepAudit()"
                    class="w-full h-14 relative overflow-hidden group/btn bg-linear-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white rounded-2xl font-bold uppercase tracking-widest text-xs transition-all duration-300 shadow-lg shadow-violet-500/25 flex items-center justify-center gap-3">
                    <span
                        class="relative z-10 flex items-center gap-3 group-hover/btn:gap-5 transition-all duration-300">
                        Start Deep Audit
                        <ng-icon name="lucideZap" class="h-4 w-4 animate-pulse"></ng-icon>
                    </span>
                    <!-- Shine effect -->
                    <div
                        class="absolute inset-0 bg-linear-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover/btn:translate-x-full transition-transform duration-1000 ease-in-out">
                    </div>
                </button>
            </div>
        </div>
    </div>

</div>